<!doctype html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<title>СКТБ ЦНИИ РТК</title>
	<link rel="stylesheet" href="/css/styles.css" type="text/css">
	<!-- <link rel="stylesheet" href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/css/styles.css" type="text/css"> -->
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald:400,300" type="text/css">
	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
</head>
<body>
	<div class="wrapper">
		<header>
			<a href="/">
				<img height="50" src="/images/robot-logo.png" alt="logo"></a>
				<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/images/robot-logo.png" alt="logo"></a> -->
			<form name="search" action="#" method="get">
				<input type="text" name="q" placeholder="Search">
				<button type="submit">Искать</button>
			</form>
		</header>

		<!-- Главное меню сайта -->
		<nav>
			<ul class="top-menu">
				<li><a href="/index.html">ГЛАВНАЯ</a></li>
				<li class="active">DATABASE</li>
				<li><a href="/projects/projects.html">ПРОЕКТЫ</a></li>
				<li><a href="/documentation/documentation.html">ДОКУМЕНТАЦИЯ</a></li>
				<li><a href="/team/team.html">НАША КОМАНДА</a></li>
				<li><a href="/contact/contact.html">КОНТАКТЫ</a></li>
			</ul>
		</nav>
		<!-- <nav>
			<ul class="top-menu">
				<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/index.html">ГЛАВНАЯ</a></li>
				<li class="active">DATABASE</li>
				<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/projects/projects.html">ПРОЕКТЫ</a></li>
				<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/documentation/documentation.html">ДОКУМЕНТАЦИЯ</a></li>
				<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/team/team.html">НАША КОМАНДА</a></li>
				<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/contact/contact.html">КОНТАКТЫ</a></li>
			</ul>
		</nav> -->

		<!-- Заголовок страницы -->
		<div class="heading">
			<h1>Bullet</h1>
		</div>

		<!-- Подменю страницы в сайдбаре -->
		<aside>
			<nav>
				<ul class="aside-menu">
					<li><a href="../database.html">Общее</a></li>
					<li><a href="../battery/battery.html">Аккумуляторы</a></li>
					<li class="active">Bullet</li>
					<li><a href="../github/github.html">Немного о GitHub</a></li>
					<li><a href="../gstreamer/gstreamer.html">GStreamer</a></li>
					<li><a href="../python/python.html">Фичи Python</a></li>
					<li><a href="../raspberrypi/raspberrypi.html">Raspberry Pi</a></li>
					<li><a href="../ubuntu/ubuntu.html"></a>Ubuntu</li>
					<li><a href="../other/other.html">Полезные ссылки и др</a></li>
				</ul>
				<!-- <ul class="aside-menu">
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/database.html">Общее</a></li>
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/battery/battery.html">Аккумуляторы</li>
					<li class="active">Bullet</li>
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/github/github.html">Немного о GitHub</a></li>
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/gstreamer/gstreamer.html">GStreamer</a></li>
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/python/python.html">Фичи Python</a></li>
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/raspberrypi/raspberrypi.html">Raspberry Pi</a></li>
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/ubuntu/ubuntu.html"></a>Ubuntu</li>
					<li><a href="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/other/other.html">Полезные ссылки и др</a></li>
				</ul> -->
			</nav>
		</aside>
		<section class="general-content">
			<p>
				Bullet - точки доступа, с помощью которых катаются все наши роботы.<br>
				Официальный сайт <a href="https://www.ubnt.com/" target="_blank">UBNT.</a><br>
				То, что используем мы - точки доступа серии <a href="https://www.ubnt.com/airmax/bulletm/" target="_blank">airMAX Bullet M.</a>
				Точка доступа, к которой подключается Джонни (наш робот телеприсутствия) - точка доступа <a href="https://www.ubnt.com/airmax/rocketm/" target="_blank">airMAX Rocket M5.</a>
			</p>

			<h2>Содержание раздела</h2>
			<ul>
				<li>
					<a href="#common-information-about-used-points">
						Общие сведения об используемых точках;
					</a>
				</li>
				<li>
					<a href="#information-on-setting-up-aps">
						Информация по настройке точек доступа.
					</a>
				</li>
			</ul>
			<p>
				<a name="common-information-about-used-points">
					<h2><span class="center">Общие сведения об используемых точках</span></h2>
				</a>
				<p>
					Bullet как и Rocket питается по технологии 
					<a href="https://ru.wikipedia.org/wiki/Power_over_Ethernet" target="_blank">PoE</a>. Это значит, что по тому Ethernet кабелю, который втыкается в Bullet, течет где-то от 8 до 24 В. То есть если вы перепутаете, какой провод куда втыкать, в лучшем случае вы лишитесь только сетевой карты. Отсюда два простых правила:
					<ul>
						<li><b>ПОЕ В ПУЛЮ;</b></li>
						<li><strong>Первой всегда подключается Пуля!</strong> Тогда, даже если вы перепутаете провод, пуля просто не включится, но ничего не сгорит.</li>
					</ul>
				</p>

				<p>
					Провод для подключения к роботу изготавливается самостоятельно, лучше под присмотром знающего человека (в идеале - руководителя). Берется Ethernet кабель подходящей длины <strong>(обязательно чтобы каждый провод был многожильным)</strong>, в изоляции делается надрез и извлекаются 4 провода из одного из разъемов: синий, бело-синий, коричневый, бело-коричневый. Их кончики зачищаются, и скручиваются попарно: синий - с синим, коричневый - с коричневым. После этого,	    <strong>ВНИМАНИЕ, коричневый - это минус, синий - это плюс</strong>. (Но лучше все еще уточнять у руководителя, или сверять с уже готовым проводом, который точно работал.) Так получается провод, у которого в одном разъеме <strong>4 провода - Это LAN</strong> (подключается в Raspberry Pi, или ноутбук), во втором разъеме <strong>8 проводов - это PoE </strong> (подключается <strong>только</strong> в Bullet).
				</p>
				<p>
					Мы используем Bullet обычно в двух режимах работы:
					<ul>
						<li>Access point - точка доступа. Это значит что Bullet раздает сеть, к которой могут подключаться другие устройства. Например Wi-Fi в лаборатории раздает Bullet настроенный как точка доступа;</li>

						<li>Station - станция. Это значит, что этот Bullet будет пытаться подключиться к точке доступа, которая указана у него в настройках. Например все Bullet'ы, которые катаются на наших роботах, настроены в режим Station.</li>
					</ul>
				</p>
				<p>
					На Bullet'ах и на Rocket'е есть 6 светодиодов (по какой-то причине у новых Bullet M5 Titan они спрятаны внутрь корпуса):
					<ul>
						<li>Первый - обозначен значком "выкл" - питание Bullet. Либо горит зеленым, либо не горит вообще;</li>

						<li>Второй - обозначен стрелочками влево-вправо. Либо не горит, либо моргает. Обозначает наличие связи по проводам. Если моргает - пакеты идут, если не горит - значит связи нет (скорее всего забыли включить провод в компьютер);</li>

						<li>Следующие 4 - уровень сигнала. Активны только когда Bullet'ы "сцепились" между собой. То есть подключение между Bullet'ами установлено и они видят друг друга по wi-fi.</li>

						<li>Если вдруг Bullet настроен как точка доступа без airMAX или без пароля, эти 4 светодиода будут гореть если к точке доступа в принципе кто-то подключен (например телефон или ноутбук к нашему wi-fi в лаборатории).</li>
					</ul>
				</p>
				<p>
					Разъем, который по умолчанию установлен на Bullet называется 
					<a href="https://ru.wikipedia.org/wiki/N-%D0%BA%D0%BE%D0%BD%D0%BD%D0%B5%D0%BA%D1%82%D0%BE%D1%80" target="_blank">N-Type</a>, который бывает Male и Female. Рекомендую смотреть по факту, какой именно понадобится.
				</p>
				<p>
					Поскольку этот разъем очень большой, для установки на робота он перепаивается на разъем 
					<a href="https://www.chipdip.ru/product/gsa-1139-rp" target="_blank">SMA</a>.
				</p>

				<h2>AirView</h2>
				<p>
					У Bullet'ов есть возможность сканировать окружающее пространство на предмет загруженности каналов Wi-Fi. Для этого используется надстройка AirView которая написана на Java. Удалось его запустить под <strong>Ubuntu Linux</strong>, только в браузере <strong>Mozilla Firefox</strong>, потому что все остальные браузеры (пробовал в Google Chrome и Opera) блокируют возможность использования Java.
					<br><br>
					Для того чтобы запустить AirView необходимо установить пакет Iced Tea, из официального описания следует, что это плагин для браузера, который запускает Java приложения.<br>
					Устанавливается из репозитория:<br>
					<i>sudo apt install icedtea-8-plugin</i><br>
					После этого AirView запускается либо по кнопке Launch AirView на первой странице веб-интерфейса, либо из выпадающего списка Tools на любой странице веб-интерфейса.<br><br>

					<strong>ВАЖНО:</strong> когда включается AirWiew, Bullet переходит в режим сканирования сети, и <strong>Wi-Fi отключается!</strong>Поэтому, чтобы сканер работал, нужно подключатся к Bullet <strong>только по проводам!</strong>
					<br><br>
					Если все прошло хорошо, то должно появиться вот такое окно:
					<img 
					class="content"
					src="images/AirView.jpg"
					alt="AirView"> 
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/AirView.jpg">  -->
					Первый график показывает как раз загруженность по каналам. Скорее всего у вас его внешний вид будет отличаться. Чтобы это исправить, можно переключить вид графика на вкладке View. Если возникли какие-то дополнительные трудности в запуске, пожалуйста дополните этот раздел. Тестирование проводилось только на Bullet M2, который раздает Wi-Fi в лаборатории.
				</p>
			</p>

			<p>
				<a name="information-on-setting-up-aps">
					<h2><span class="center">Информация по настройке точек доступа</span></h2>
				</a>

				<p>
					Вся настройка производится через веб-интерфейс (т.е. через браузер). Есть возможность подключаться к Bullet'ам через ssh и проводить настройку таким образом через командную строку, для этого вводится команда:ssh ubnt@ip.address, где ip.address - текущий адрес точки доступа (т.е. по умолчанию будет <i>ssh ubnt@192.168.1.20</i>). Но этого никогда не делали, потому что не было такой необходимости.
				</p>
				<p><br>
					По умолчанию IP адрес для Bullet: <i>192.168.1.20.</i><br>
					В адресную строку браузера вводится IP-адрес Bullet'а, после этого обычно возникает предупреждение о безопасности, добавляем исключение, тогда появляется форма для входа.<br>
					По умолчанию:<br>
					Логин: ubnt<br>
					Пароль: ubnt
				</p>
				<p>
					Если по какой-то причине вы забыли какой адрес зафиксирован за Bullet'ом доступа, найти ее с помощью сканера сети не выходит, и вообще много что пошло не так, можно сбросить точку доступа до заводских настроек. Для этого на Bullet подается питание, после этого на несколько секунд (10-15) зажимается кнопка <i>Reset</i> (она рядом с ethernet разъемом). Как только Bullet перестал моргать своими светодиодами - к нему можно снова пытаться подключиться по стандартному IP-адресу, со стандартным логином и паролем.
				</p>
				<p><br>
					Если все прошло хорошо, должна появиться вот такая картина (для Bullet'а настроенного как точка доступа) - <b>вкладка Main</b>:
					<img 
					class="content" 
					src="images/main.jpg"
					alt="main">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/main.jpg"
					alt="main"> -->
				</p>
				<p><br>
					Здесь отражены все основные сведения о текущем состоянии Bullet'a, названия в большинстве своем говорят за себя. Основные, которые будут вас волновать скорее всего чаще всего:
					<ul>
						<li><i>Wireless Mode</i> - в каком режиме работает Bullet, станция или точка доступа;</li>

						<li><i>SSID</i> - имя сети, которую данная точка доступа раздает;</li>

						<li><i>Channel/Frequency</i> - номер канала, на котором работает Bullet, должен быть настроен одинаково для всех Bullet'ов в сети;</li>

						<li><i>Channel width</i> - должен быть настроен одинаково для всех Bullet'ов в сети;</li>

						<li><i>airMAX</i> - включена ли надстройка airMAX, опять же, должно быть одинаково настроено для всех Bullet'ов в сети (либо у всех выключено).</li>
					</ul>
				</p>

				<h3>Вкладка airMAX</h3>
				<p>
					<img 
					class="content" 
					src="images/airMAX.jpg"
					alt="airMAX">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/airMAX.jpg"
					alt="airMAX"> -->
					<p>
						Здесь происходит настройка всех параметров airMAX для Bullet'ов. Если Bullet настроен как точка доступа (на картинке), здесь можно включить или выключить эту надстройку.<br>
						Если Bullet настроен как станция, здесь можно выставить приоритет airMAX.
						Пока никто не экспериментировал с этими настройками в полной мере.
					</p>
				</p>

				<h3>Вкладка Wireless для Bullet настроенного как Access Point</h3>
				<p>
					<img 
					class="content" 
					src="images/wireless_access_point.jpg"
					alt="Wireless Access Point">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/wireless_access_point.jpg"
					alt="Wireless Access Point"> -->
					<h4>Основные настройки:</h4>
					<ul>
						<li><i>Wireless Mode</i> - Режим работы Bullet - станция, точка доступа, повторитель (не использовалось нами;
						<br>
						<li><i>WDS</i> - если я правильно понимаю, это позволяет использовать точки доступа как "прозрачные мосты" в сети, т.е. пакеты просто напрямую пробрасываются от Ethernet до Wi-Fi. Таким образом можно настроить Bullet'ы так, что у них будут IP-адреса настроены под другую подсеть, Raspberry Pi и пульт их видеть не будут, но сеть будет работать;</li>
						<br>
						<li><i>SSID</i> - имя Wi-Fi сети, которую раздает точка доступа;</li>
						<br>
						<li><i>Channel width</i> - ширина каждого канала. Из справки самого Bullet: чем шире канал, тем выше пропускная способность, но ниже стабильность на больших дистанциях. Не уверен какая настройка будет оптимальной для нас, <b>нужны эксперименты;</b></li>
						<br>
						<li><i>Frequency</i> - частота, на которой работает Bullet, фактически номер канала на котором он сейчас работает. По хорошему надо использовать сканер частот, определять какой канал более свободен прямо сейчас, и занимать его. Можно выставить в режим auto тогда Bullet будет сам пытаться занять более свободный, но работает это не очень хорошо;</li>
						<br>
						<li><i>Antenna Gain, Cable loss, Output power</i> - полагаю, эти три настройки позволят оптимально настроить выходную мощность Bullet, но этим никто особо не занимался, <b>нужны эксперименты;</b></li>
						<br>
						<li><i>Wireless security</i> - здесь настраивается пароль, по которому можно будет подключиться к точке доступа. Можно настроить вплоть до разрешения только конкретным устройствам с конкретным MAC-адресом, но обычно использовали только пароль.</li>
					</ul>
				</p>

				<h3>Вкладка Wireless для Bullet настроенного как Station</h3>
				<p>
					<img 
					class="content" 
					src="images/wireless_station.jpg"
					alt="Wireless Station">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/wireless_station.jpg"
					alt="Wireless Station"> -->
					<p>Настроек здесь гораздо меньше, к тому же большая часть совпадает с настройками точки доступа.</p>
					<h4>Основные настройки:</h4>
					<ul>
						<li><i>SSID</i> - имя сети, к которой будет подключаться станция. Можно нажать кнопку Select и выбрать точку доступа из тех, которые видны этой станции (очевидно, для этого нужная точка доступа должна быть включена);</li>
						<br>
						<li><i>Wireless security</i> - здесь вводится пароль от сети, к которой вы пытаетесь подключиться. Остальные настройки совпадают с настройками точки доступа.</li>
					</ul>
				</p>

				<h3>Вкладка Network</h3>
				<p>
					<img 
					class="content" 
					src="images/network.jpg"
					alt="Network">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/network.jpg"
					alt="Network"> -->
					<p>Здесь настраивается все, что касается проводного соединения с Bullet.</p>
					<h4>Основные настройки:</h4>
					<ul>
						<li><i>Management IP Address</i> - фиксированный (Static) или динамический (DHCP) ip-адрес установлен у Bullet'a. Динамический IP должен кто-то выдавать, поэтому DHCP указывается только у Bullet'a подключенного к роутеру, который раздает интернет (например, так настроен Bullet который раздает Wi-Fi в лаборатории). Во всех остальных случаях стоит прописать статический IP и отметить его где-нибудь (например написать прямо на корпусе Bullet'a);</li>
						<br>
						<li><i>DHCP Fallback IP</i> - для настройки DHCP. Полагаю это тот IP адрес, который будет задан Bullet'у, если по какой-то причине извне никто не задаст ему адреса;</li>
						<br>
						<li><i>IP Address</i> - для настройки Static именно этот IP адрес будет в любом случае присвоен Bullet'у, по этому адресу можно будет к нему подключиться.</li>
					</ul>
				</p>

				<h3>Вкладка Advanced</h3>
				<p>
					<img 
					class="content" 
					src="images/advanced.jpg"
					alt="Advanced">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/advanced.jpg"
					alt="Advanced"> -->
					Откровенно говоря тут никто никогда и ничего не настраивал, так что оставим этот раздел на будущее. Из того, что может быть интересным - настройка Signal LED hresholds - указать какой светодиод должен загораться при каком уровне сигнала.
				</p>

				<h3>Вкладка Services</h3>
				<p>
					<img 
					class="content" 
					src="images/services.jpg"
					alt="services">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/services.jpg"
					alt="services"> -->
					<p>Тут тоже никто ничего и никогда не настраивал. Из того что кажется интересным на первый взгляд:</p>
					<ul>
						<li><i>Ping watchdog</i> - Bullet будет периодически пинговать указанный IP адрес. В случае если этот адрес окажется недостижим, Bullet перезагружается;</li>
						<br>
						<li><i>SSH server</i> - настройки подключения к Bullet по ssh. Не знаю зачем может понадобиться изменять настройки по умолчанию.</li>
					</ul>
				</p>

				<h3>Вкладка System</h3>
				<p>
					<img 
					class="content" 
					src="images/system.jpg"
					alt="System">
					<!-- src="C:/Users/Студент1/Desktop/RTC-SCTB.github.io/database/bullet/images/system.jpg"
					alt="System"> -->
					<h4>Общие настройки конкретно для этого Bullet'a:</h4>
					<ul>
						<li>Текущая версия прошивки, которую следует периодически обновлять. Для этого c официального сайта скачивается последняя версия прошивки, после чего файл заливается на Bullet кнопка рядом с надписью <i>Upload Firmware</i>;</li>
						<br>
						<li>Здесь же можно настроить имя устройства, имя пользователя по которому происходит подключение к Bullet, часовой пояс (нужно только для логов, как я понял), выключить кнопку <i>reset</i> (никогда так не делайте), и т.д.;</li>
						<br>
						<li>Из самого полезного - здесь есть кнопка <i>Reboot</i>, чтобы программно перезагрузить Bullet без нажатия на кнопку.</li>
					</ul>
				</p>
			</p>
		</section>
	</div>
	<footer></footer>
</body>
</html>